<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>–ô–æ–≥–∞-–±–∞–ª–∞–Ω—Å ‚Äî –ø–∏—Ç–∞–Ω–∏–µ</title>

<style>
:root{
  --bg:#f7faf7;
  --card:#ffffff;
  --green:#6fbf8a;
  --green-dark:#2f4f3f;
  --text:#2b2b2b;
  --muted:#6b6b6b;
  --border:#e6eee8;
  --radius:18px;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  background:var(--bg);
  color:var(--text);
}
.wrap{
  max-width:980px;
  margin:auto;
  padding:22px;
}
h1{margin:0 0 6px;color:var(--green-dark)}
h2{margin:0 0 10px;color:var(--green-dark);font-size:18px}
.muted{color:var(--muted);font-size:14px}
.card{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding:18px;
  margin-top:16px;
  box-shadow:0 10px 25px rgba(0,0,0,.04);
}
.grid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:14px;
}
@media(max-width:760px){
  .grid{grid-template-columns:1fr}
}
label{font-size:13px;color:var(--muted)}
input,select{
  width:100%;
  padding:12px;
  margin-top:6px;
  border-radius:14px;
  border:1px solid var(--border);
  background:#fff;
}
button{
  padding:14px;
  border-radius:16px;
  border:none;
  cursor:pointer;
  font-weight:600;
}
.btn-main{
  width:100%;
  background:var(--green);
  color:white;
  margin-top:14px;

  /* –∂–µ–ª–µ–∑–æ–±–µ—Ç–æ–Ω: –µ—Å–ª–∏ –≥–¥–µ-—Ç–æ –µ—Å—Ç—å –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ */
  position: relative;
  z-index: 20;
}
.tabs{
  display:flex;
  gap:8px;
  margin-top:14px;
}
.tabs button{
  flex:1;
  background:#eef6f1;
  color:var(--green-dark);
  position: relative;
  z-index: 10;
}
.tabs button.active{
  background:var(--green);
  color:white;
}
.menu{
  margin-top:14px;
  padding:14px;
  border-radius:14px;
  background:#f1f7f3;
  line-height:1.6;
  font-size:14px;
}
.day{margin-bottom:12px}
.week{
  margin-bottom:18px;
  padding-bottom:12px;
  border-bottom:1px dashed #cfe7d7;
}
.kcal{
  margin-top:10px;
  font-size:16px;
  font-weight:700;
  color:var(--green-dark);
}
</style>
</head>

<body>
<div class="wrap">
  <h1>üåø –ü–∏—Ç–∞–Ω–∏–µ –¥–ª—è –±–∞–ª–∞–Ω—Å–∞ –∏ –π–æ–≥–∏</h1>
  <p class="muted">–ú—è–≥–∫–∏–π –æ—Ä–∏–µ–Ω—Ç–∏—Ä, –∞ –Ω–µ –¥–∏–µ—Ç–∞</p>

  <!-- –†–ê–°–ß–Å–¢ -->
  <div class="card">
    <h2>–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π —Ä–∞—Å—á—ë—Ç</h2>

    <!-- –í–ê–ñ–ù–û: tabs –ù–ï –≤–Ω—É—Ç—Ä–∏ —Ñ–æ—Ä–º—ã -->
    <form id="calcForm" novalidate>
      <div class="grid">
        <div>
          <label for="weight">–í–µ—Å (–∫–≥)</label>
          <input id="weight" type="number" inputmode="decimal" required>
        </div>
        <div>
          <label for="height">–†–æ—Å—Ç (—Å–º)</label>
          <input id="height" type="number" inputmode="numeric" required>
        </div>
        <div>
          <label for="age">–í–æ–∑—Ä–∞—Å—Ç</label>
          <input id="age" type="number" inputmode="numeric" required>
        </div>
        <div>
          <label for="gender">–ü–æ–ª</label>
          <select id="gender">
            <option value="female">–ñ–µ–Ω—Å–∫–∏–π</option>
            <option value="male">–ú—É–∂—Å–∫–æ–π</option>
          </select>
        </div>
        <div>
          <label for="activity">–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</label>
          <select id="activity">
            <option value="1.35">–ô–æ–≥–∞ 1‚Äì2 —Ä–∞–∑–∞</option>
            <option value="1.55">–ô–æ–≥–∞ 3‚Äì4 —Ä–∞–∑–∞</option>
            <option value="1.75">–ï–∂–µ–¥–Ω–µ–≤–Ω–æ</option>
          </select>
        </div>
        <div>
          <label for="goal">–¶–µ–ª—å</label>
          <select id="goal">
            <option value="1">–ë–∞–ª–∞–Ω—Å</option>
            <option value="0.9">–ú—è–≥–∫–æ–µ —Å–Ω–∏–∂–µ–Ω–∏–µ</option>
            <option value="1.05">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</option>
          </select>
        </div>
      </div>

      <!-- –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è submit-–∫–Ω–æ–ø–∫–∞ -->
      <button class="btn-main" id="calcBtn" type="submit">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
    </form>

    <div id="result" style="display:none;margin-top:14px">
      <div class="kcal" id="calories"></div>

      <div class="tabs" aria-label="–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –º–µ–Ω—é">
        <!-- –í–ê–ñ–ù–û: type="button", —á—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ submit -->
        <button type="button" id="tab-day"  class="active">–î–µ–Ω—å</button>
        <button type="button" id="tab-week">–ù–µ–¥–µ–ª—è</button>
        <button type="button" id="tab-month">–ú–µ—Å—è—Ü</button>
      </div>

      <div id="menu" class="menu"></div>
    </div>

  </div>
</div>

<script>
(() => {
  let mode = "day";

  const baseDay = [
    "üçΩÔ∏è –ó–∞–≤—Ç—Ä–∞–∫: —Å–ª–æ–∂–Ω—ã–µ —É–≥–ª–µ–≤–æ–¥—ã + –±–µ–ª–æ–∫ + —Ñ—Ä—É–∫—Ç/—è–≥–æ–¥—ã",
    "ü•ó –û–±–µ–¥: –æ–≤–æ—â–∏ + –∏—Å—Ç–æ—á–Ω–∏–∫ –±–µ–ª–∫–∞ + –∫—Ä—É–ø–∞/–∫–∞—Ä—Ç–æ—Ñ–µ–ª—å",
    "üçè –ü–µ—Ä–µ–∫—É—Å: –∫–∏—Å–ª–æ–º–æ–ª–æ—á–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç –∏–ª–∏ —Ñ—Ä—É–∫—Ç + –æ—Ä–µ—Ö–∏",
    "ü•£ –£–∂–∏–Ω: –ª—ë–≥–∫–∏–π –±–µ–ª–æ–∫ + –æ–≤–æ—â–∏ (–±–µ–∑ —Ç—è–∂–µ—Å—Ç–∏)"
  ];

  const swaps = {
    carbs: ["–æ–≤—Å—è–Ω–∫–∞", "–≥—Ä–µ—á–∫–∞", "—Ä–∏—Å", "–ø—à–µ–Ω–æ", "–±—É–ª–≥—É—Ä"],
    protein: ["–∫—É—Ä–∏—Ü–∞", "—Ä—ã–±–∞", "—è–π—Ü–∞", "—Ç–≤–æ—Ä–æ–≥", "–∏–Ω–¥–µ–π–∫–∞", "—á–µ—á–µ–≤–∏—Ü–∞"],
    veg: ["–æ–≤–æ—â–∏", "–∑–µ–ª–µ–Ω—å", "—Å–∞–ª–∞—Ç", "–±—Ä–æ–∫–∫–æ–ª–∏", "–æ–≥—É—Ä—Ü—ã-–ø–æ–º–∏–¥–æ—Ä—ã"],
    fruit: ["—è–±–ª–æ–∫–æ", "–±–∞–Ω–∞–Ω", "—è–≥–æ–¥—ã", "–≥—Ä—É—à–∞"]
  };

  function pick(arr){ return arr[Math.floor(Math.random()*arr.length)]; }

  function varyLine(line){
    return line
      .replace("—Å–ª–æ–∂–Ω—ã–µ —É–≥–ª–µ–≤–æ–¥—ã", pick(swaps.carbs))
      .replace("–±–µ–ª–æ–∫", pick(swaps.protein))
      .replace("–æ–≤–æ—â–∏", pick(swaps.veg))
      .replace("—Ñ—Ä—É–∫—Ç/—è–≥–æ–¥—ã", pick(swaps.fruit));
  }

  function renderMenu(){
    const menuEl = document.getElementById("menu");
    let html = "";

    if(mode === "day"){
      html += `<div class="day"><b>–î–µ–Ω—å</b><br>${baseDay.map(varyLine).join("<br>")}</div>`;
    }

    if(mode === "week"){
      for(let i=1;i<=7;i++){
        html += `<div class="day"><b>–î–µ–Ω—å ${i}</b><br>${baseDay.map(varyLine).join("<br>")}</div>`;
      }
    }

    if(mode === "month"){
      for(let w=1;w<=4;w++){
        html += `<div class="week"><b>–ù–µ–¥–µ–ª—è ${w}</b><br>`;
        for(let d=1;d<=7;d++){
          html += `<div class="day"><b>–î–µ–Ω—å ${d}:</b><br>${baseDay.map(varyLine).join("<br>")}</div>`;
        }
        html += `</div>`;
      }
    }

    menuEl.innerHTML = html;
  }

  function setMode(m){
    mode = m;
    document.getElementById("tab-day").classList.toggle("active", m==="day");
    document.getElementById("tab-week").classList.toggle("active", m==="week");
    document.getElementById("tab-month").classList.toggle("active", m==="month");
    renderMenu();
  }

  function calcBMR(w,h,a,gender){
    return gender==="male"
      ? 10*w + 6.25*h - 5*a + 5
      : 10*w + 6.25*h - 5*a - 161;
  }

  function onSubmit(e){
    e.preventDefault();

    const w = Number(document.getElementById("weight").value);
    const h = Number(document.getElementById("height").value);
    const a = Number(document.getElementById("age").value);
    const g = document.getElementById("gender").value;
    const act = Number(document.getElementById("activity").value);
    const goal = Number(document.getElementById("goal").value);

    if(!w || !h || !a){
      alert("–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤–µ—Å, —Ä–æ—Å—Ç –∏ –≤–æ–∑—Ä–∞—Å—Ç.");
      return;
    }

    const bmr = calcBMR(w,h,a,g);
    const cal = Math.round(bmr * act * goal);

    document.getElementById("calories").innerText = `–û—Ä–∏–µ–Ω—Ç–∏—Ä: ${cal} –∫–∫–∞–ª/–¥–µ–Ω—å`;
    document.getElementById("result").style.display = "block";

    setMode("day");
  }

  // –ü–æ–¥–∫–ª—é—á–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ DOM
  document.addEventListener("DOMContentLoaded", () => {
    document.getElementById("calcForm").addEventListener("submit", onSubmit);

    document.getElementById("tab-day").addEventListener("click", () => setMode("day"));
    document.getElementById("tab-week").addEventListener("click", () => setMode("week"));
    document.getElementById("tab-month").addEventListener("click", () => setMode("month"));

    // –Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π: –µ—Å–ª–∏ –≥–¥–µ-—Ç–æ –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏—è ‚Äî –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ —Ä–∞–∑—Ä–µ—à–∞–µ–º –∫–ª–∏–∫–∏
    document.getElementById("calcBtn").style.pointerEvents = "auto";
  });
})();
</script>

</body>
</html>
